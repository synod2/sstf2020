eat the pie 
------------
```
CANARY    : ENABLED
FORTIFY   : disabled
NX        : ENABLED
PIE       : ENABLED
RELRO     : FULL
```
libc 주어지지 않음. 

pwnme 라는 함수에서 4개의 분기가 존재하고, 그 중 두개에서 시스템 함수를 호출시킨다. 
함수 호출의 방식은 스택에 입력 버퍼와 함수들의 주소를 저장하고, 
버퍼주소 + 입력값 식으로 오프셋을 계산하여 함수를 불러온다. 

버퍼는 4바이트인데 입력 가능한 값은 총 0x10 바이트. 
뒷부분에 있는 함수 주소들을 덮어씌워볼 수 있을것같지만, 
버퍼를 위한 영역도 배열 형태로 16바이트 할당되어있어 오버플로우는 힘들어보인다. 
이때 atoi 함수가 buf에 들어간 값을 숫자로 변환하여 함수 주소 연산부에 넘겨준느 역할을 하는데
입력 숫자가 3 초과일경우는 함수 실행을 하지 않는다. 

입력 숫자가 음수인 경우는 atoi에서 정상적으로 음수로 체크를 하고, 
기준 스택으로부터 -4,-8,... 위치에 있는 함수 실행이 가능해진다. 
즉, 스택상에 다른 함수의 주소를 올려두면 실행이 된다는것. 
일단 pie가 걸려있어 함수의 주소를 바로 가져올 수는 없으므로, 
주소 leak이 가능할 루틴을 찾아보자.

일단 버퍼 바로 다음에 함수들의 주소가 들어있고 , 유효하지 않은 값을 입력하면
버퍼를 출력하게 되는데 , 버퍼를 가득 채운상황이라면 
스택에 들어있는 함수들의 주소까지 연달아 출력이 가능해진다. 
여기서 codebase leak 이 가능하다. 

이후 leak한 주소를 가지고 got/plt를 이용해 libc leak까지 연달아서 될듯한데,
약간의 ROP가 필요할것같다. libc를 주지 않은 문제이므로 libc leak은 하지 않는다. 

스택을 맞춰줘야 하므로 pop 가젯을 활용하여 sh 문자열이 system 함수의 인자로 전달될 수 있게 해주면
쉘이 떨어진다. 







